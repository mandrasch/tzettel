import{S as $t,i as jt,s as Wt,e as t,t as c,k as d,c as o,a as r,g as h,d as s,n as u,b as f,f as Ft,D as e,h as pe,K as Lt,L as At,E as it,M as Vt,N as ct,O as Gt,C as Ne}from"../chunks/vendor-b32ae2ae.js";function St(l,a,p){const v=l.slice();return v[10]=a[p],v[12]=p,v}function Bt(l){let a,p,v,I,L,W=l[10].timeFrom+"",F,V,x=l[10].timeUntil+"",N,E,g,M=l[10].project+"",z,H,S,_=l[10].notesCombined+"",n,G,i,B=Number.parseFloat(l[10].totalMinutes/60).toFixed(2)+"",U;return{c(){a=t("tr"),p=t("th"),v=c(l[12]),I=d(),L=t("td"),F=c(W),V=c(" - "),N=c(x),E=d(),g=t("td"),z=c(M),H=d(),S=t("td"),n=c(_),G=d(),i=t("td"),U=c(B),this.h()},l(D){a=o(D,"TR",{});var m=r(a);p=o(m,"TH",{scope:!0});var T=r(p);v=h(T,l[12]),T.forEach(s),I=u(m),L=o(m,"TD",{});var R=r(L);F=h(R,W),V=h(R," - "),N=h(R,x),R.forEach(s),E=u(m),g=o(m,"TD",{});var Y=r(g);z=h(Y,M),Y.forEach(s),H=u(m),S=o(m,"TD",{});var q=r(S);n=h(q,_),q.forEach(s),G=u(m),i=o(m,"TD",{});var K=r(i);U=h(K,B),K.forEach(s),m.forEach(s),this.h()},h(){f(p,"scope","row")},m(D,m){Ft(D,a,m),e(a,p),e(p,v),e(a,I),e(a,L),e(L,F),e(L,V),e(L,N),e(a,E),e(a,g),e(g,z),e(a,H),e(a,S),e(S,n),e(a,G),e(a,i),e(i,U)},p(D,m){m&4&&W!==(W=D[10].timeFrom+"")&&pe(F,W),m&4&&x!==(x=D[10].timeUntil+"")&&pe(N,x),m&4&&M!==(M=D[10].project+"")&&pe(z,M),m&4&&_!==(_=D[10].notesCombined+"")&&pe(n,_),m&4&&B!==(B=Number.parseFloat(D[10].totalMinutes/60).toFixed(2)+"")&&pe(U,B)},d(D){D&&s(a)}}}function Ut(l){let a,p,v,I,L,W,F,V,x,N,E,g,M,z,H,S,_,n,G,i,B,U,D,m,T,R,Y,q,K,re,P,y,A,oe,Pe,$e,O,je,Q,ve,We,Ae,ee,be,$,ae,Ve,Ge,le,Ue,Ye,ne,Oe,xe,ie,ze,Ze,ce,Je,qe,te,we,j,ge,Ke,De,Xe,ye,Qe,Me,et,_e,Te,Ee=Number.parseFloat(l[3]/60).toFixed(2)+"",Re,tt,X,He,ot,st,ke,rt,at,de,lt,dt,he=l[2],C=[];for(let b=0;b<he.length;b+=1)C[b]=Bt(St(l,he,b));return{c(){a=t("div"),p=t("div"),v=t("div"),I=t("h1"),L=c("tzettel \u{1F4DD}"),W=d(),F=t("div"),V=t("i"),x=c("Tiny helper for chaotic workdays, which merges tasks for clean reports."),N=d(),E=t("div"),g=t("div"),M=t("b"),z=c("Just paste your timesheet notes!"),H=t("br"),S=c(`You can take them beforehand in Notepad++,
			TextEdit, Sublime, handwritten, what ever you like. ;)`),_=t("br"),n=t("br"),G=d(),i=t("div"),B=t("b"),U=c("#ProTip 1: Hashtag grouping"),D=t("br"),m=c(`
			Use a hashtag at the beginning to group entries, e.g. tasks related to a project. These entries
			will be later combined into one entry.`),T=d(),R=t("div"),Y=t("b"),q=c("#ProTip 2: General tasks "),K=t("br"),re=c(`
			Entries without a hashtag in the beginning will be combined into the "General" entry.`),P=d(),y=t("form"),A=t("div"),oe=t("label"),Pe=c("Paste your notes:"),$e=d(),O=t("textarea"),je=d(),Q=t("section"),ve=t("h2"),We=c("Your report"),Ae=d(),ee=t("table"),be=t("thead"),$=t("tr"),ae=t("th"),Ve=c("#"),Ge=d(),le=t("th"),Ue=c("Fictional time"),Ye=d(),ne=t("th"),Oe=c("Project"),xe=d(),ie=t("th"),ze=c("Tasks done \u2705"),Ze=d(),ce=t("th"),Je=c("Hours"),qe=d(),te=t("tbody");for(let b=0;b<C.length;b+=1)C[b].c();we=d(),j=t("tr"),ge=t("th"),Ke=d(),De=t("td"),Xe=d(),ye=t("td"),Qe=d(),Me=t("td"),et=d(),_e=t("td"),Te=t("b"),Re=c(Ee),tt=d(),X=t("section"),He=t("h4"),ot=c("Parsing summary"),st=d(),ke=t("p"),rt=c("This is only for debugging, here is what the algorithm detected in your notes:"),at=d(),de=t("p"),this.h()},l(b){a=o(b,"DIV",{class:!0});var w=r(a);p=o(w,"DIV",{class:!0});var k=r(p);v=o(k,"DIV",{class:!0});var se=r(v);I=o(se,"H1",{class:!0});var ht=r(I);L=h(ht,"tzettel \u{1F4DD}"),ht.forEach(s),W=u(se),F=o(se,"DIV",{class:!0});var ut=r(F);V=o(ut,"I",{});var ft=r(V);x=h(ft,"Tiny helper for chaotic workdays, which merges tasks for clean reports."),ft.forEach(s),ut.forEach(s),se.forEach(s),k.forEach(s),N=u(w),E=o(w,"DIV",{class:!0});var ue=r(E);g=o(ue,"DIV",{class:!0});var fe=r(g);M=o(fe,"B",{});var mt=r(M);z=h(mt,"Just paste your timesheet notes!"),mt.forEach(s),H=o(fe,"BR",{}),S=h(fe,`You can take them beforehand in Notepad++,
			TextEdit, Sublime, handwritten, what ever you like. ;)`),_=o(fe,"BR",{}),n=o(fe,"BR",{}),fe.forEach(s),G=u(ue),i=o(ue,"DIV",{class:!0});var Ce=r(i);B=o(Ce,"B",{});var pt=r(B);U=h(pt,"#ProTip 1: Hashtag grouping"),pt.forEach(s),D=o(Ce,"BR",{}),m=h(Ce,`
			Use a hashtag at the beginning to group entries, e.g. tasks related to a project. These entries
			will be later combined into one entry.`),Ce.forEach(s),T=u(ue),R=o(ue,"DIV",{class:!0});var Fe=r(R);Y=o(Fe,"B",{});var vt=r(Y);q=h(vt,"#ProTip 2: General tasks "),vt.forEach(s),K=o(Fe,"BR",{}),re=h(Fe,`
			Entries without a hashtag in the beginning will be combined into the "General" entry.`),Fe.forEach(s),ue.forEach(s),P=u(w),y=o(w,"FORM",{});var bt=r(y);A=o(bt,"DIV",{class:!0});var Le=r(A);oe=o(Le,"LABEL",{for:!0,class:!0});var gt=r(oe);Pe=h(gt,"Paste your notes:"),gt.forEach(s),$e=u(Le),O=o(Le,"TEXTAREA",{class:!0,id:!0,rows:!0,cols:!0}),r(O).forEach(s),Le.forEach(s),bt.forEach(s),je=u(w),Q=o(w,"SECTION",{class:!0});var Se=r(Q);ve=o(Se,"H2",{});var _t=r(ve);We=h(_t,"Your report"),_t.forEach(s),Ae=u(Se),ee=o(Se,"TABLE",{class:!0});var Be=r(ee);be=o(Be,"THEAD",{});var Tt=r(be);$=o(Tt,"TR",{});var Z=r($);ae=o(Z,"TH",{scope:!0});var Et=r(ae);Ve=h(Et,"#"),Et.forEach(s),Ge=u(Z),le=o(Z,"TH",{scope:!0});var Ht=r(le);Ue=h(Ht,"Fictional time"),Ht.forEach(s),Ye=u(Z),ne=o(Z,"TH",{scope:!0});var kt=r(ne);Oe=h(kt,"Project"),kt.forEach(s),xe=u(Z),ie=o(Z,"TH",{scope:!0});var wt=r(ie);ze=h(wt,"Tasks done \u2705"),wt.forEach(s),Ze=u(Z),ce=o(Z,"TH",{scope:!0});var Dt=r(ce);Je=h(Dt,"Hours"),Dt.forEach(s),Z.forEach(s),Tt.forEach(s),qe=u(Be),te=o(Be,"TBODY",{});var Ie=r(te);for(let nt=0;nt<C.length;nt+=1)C[nt].l(Ie);we=u(Ie),j=o(Ie,"TR",{});var J=r(j);ge=o(J,"TH",{scope:!0}),r(ge).forEach(s),Ke=u(J),De=o(J,"TD",{}),r(De).forEach(s),Xe=u(J),ye=o(J,"TD",{}),r(ye).forEach(s),Qe=u(J),Me=o(J,"TD",{}),r(Me).forEach(s),et=u(J),_e=o(J,"TD",{});var yt=r(_e);Te=o(yt,"B",{});var Mt=r(Te);Re=h(Mt,Ee),Mt.forEach(s),yt.forEach(s),J.forEach(s),Ie.forEach(s),Be.forEach(s),Se.forEach(s),tt=u(w),X=o(w,"SECTION",{});var me=r(X);He=o(me,"H4",{});var Rt=r(He);ot=h(Rt,"Parsing summary"),Rt.forEach(s),st=u(me),ke=o(me,"P",{});var Ct=r(ke);rt=h(Ct,"This is only for debugging, here is what the algorithm detected in your notes:"),Ct.forEach(s),at=u(me),de=o(me,"P",{});var Pt=r(de);Pt.forEach(s),me.forEach(s),w.forEach(s),this.h()},h(){f(I,"class","py-2"),f(F,"class","sub-title"),f(v,"class","col-12"),f(p,"class","row"),f(g,"class","col-md-4"),f(i,"class","col-md-4"),f(R,"class","col-md-4"),f(E,"class","row py-4"),f(oe,"for","timesheetNotes"),f(oe,"class","form-label"),f(O,"class","form-control"),f(O,"id","timesheetNotes"),f(O,"rows","6"),f(O,"cols","75"),f(A,"class","mb-3"),f(ae,"scope","col"),f(le,"scope","col"),f(ne,"scope","col"),f(ie,"scope","col"),f(ce,"scope","col"),f(ge,"scope","row"),f(ee,"class","table"),f(Q,"class","py-4"),f(a,"class","container py-5")},m(b,w){Ft(b,a,w),e(a,p),e(p,v),e(v,I),e(I,L),e(v,W),e(v,F),e(F,V),e(V,x),e(a,N),e(a,E),e(E,g),e(g,M),e(M,z),e(g,H),e(g,S),e(g,_),e(g,n),e(E,G),e(E,i),e(i,B),e(B,U),e(i,D),e(i,m),e(E,T),e(E,R),e(R,Y),e(Y,q),e(R,K),e(R,re),e(a,P),e(a,y),e(y,A),e(A,oe),e(oe,Pe),e(A,$e),e(A,O),Lt(O,l[1]),e(a,je),e(a,Q),e(Q,ve),e(ve,We),e(Q,Ae),e(Q,ee),e(ee,be),e(be,$),e($,ae),e(ae,Ve),e($,Ge),e($,le),e(le,Ue),e($,Ye),e($,ne),e(ne,Oe),e($,xe),e($,ie),e(ie,ze),e($,Ze),e($,ce),e(ce,Je),e(ee,qe),e(ee,te);for(let k=0;k<C.length;k+=1)C[k].m(te,null);e(te,we),e(te,j),e(j,ge),e(j,Ke),e(j,De),e(j,Xe),e(j,ye),e(j,Qe),e(j,Me),e(j,et),e(j,_e),e(_e,Te),e(Te,Re),e(a,tt),e(a,X),e(X,He),e(He,ot),e(X,st),e(X,ke),e(ke,rt),e(X,at),e(X,de),de.innerHTML=l[4],lt||(dt=At(O,"input",l[8]),lt=!0)},p(b,[w]){if(w&2&&Lt(O,b[1]),w&4){he=b[2];let k;for(k=0;k<he.length;k+=1){const se=St(b,he,k);C[k]?C[k].p(se,w):(C[k]=Bt(se),C[k].c(),C[k].m(te,we))}for(;k<C.length;k+=1)C[k].d(1);C.length=he.length}w&8&&Ee!==(Ee=Number.parseFloat(b[3]/60).toFixed(2)+"")&&pe(Re,Ee),w&16&&(de.innerHTML=b[4])},i:it,o:it,d(b){b&&s(a),Vt(C,b),lt=!1,dt()}}}function It(l){return(l.getMinutes()<10?"0":"")+l.getMinutes()}function Nt(l){return(l.getHours()<10?"0":"")+l.getHours()}function Yt(l,a,p){let v,I,L,W,F=it,V=()=>(F(),F=Gt(E,H=>p(4,W=H)),E);l.$$.on_destroy.push(()=>F());let N=Ne(`9:15 - 9:45 Getting organized
9:45 - 10:00 Stand-Up Meeting
10:00 - 12:00 #ClientTessa Website prototyping start page
Lunch Break (this line will just be ignored - feel free to take other notes as well)
12:00 - 12:30 #ClientMark CSS Bugfix for category pages
12:30 - 14:00 #ClientTessa Website prototyping details page`);ct(l,N,H=>p(1,v=H));const E=Ne("");V();let g=Ne([]);ct(l,g,H=>p(2,I=H));let M=Ne(0);ct(l,M,H=>p(3,L=H)),N.subscribe(H=>{console.log("Timesheet value changed",H);const S=/^([01]?\d|2[0-3]):([0-5]\d)\s?-\s?([01]?\d|2[0-3]):([0-5]\d)[^\S\n]?([#][+a-zA-Z0-9]*)?[^\S\n]?([^\n\r]*)?$/gm;var _=null;M.update(y=>0);let n={},G=H.replace(S,'<mark>$1</mark>:<mark>$2</mark>-<mark>$3</mark>:<mark>$4</mark> <mark class="hashtag" style="background-color:cyan;">$5</mark> <mark>$6</mark>');G=G.replace(/\n\r?/g,"<br>"),E.update(y=>G);let i;for(;(i=S.exec(H))!==null;){i.index===S.lastIndex&&S.lastIndex++,i.forEach((y,A)=>{console.log(`Found match, group ${A}: ${y}`)});var B=i[1],U=i[2],D=i[3],m=i[4],T=i[5],R=i[6];if(_==null){let y=new Date;_=new Date(y.getFullYear(),y.getMonth(),y.getDate(),B,U,0)}var Y=new Date;Y.setHours(B,U);var q=new Date;q.setHours(D,m);var K=(q-Y)/(1e3*60);console.log("calculated diff minutes",K,i),console.log("Hashtag",T),T==null&&(T="#General",console.log("set hashtag to default value",T)),""+T+""in n||(n[T]={minutesTotal:0,notesCombined:""}),console.log(n),n[T].minutesTotal=n[T].minutesTotal+K,R!=null&&(n[T].notesCombined!=""&&(n[T].notesCombined=n[T].notesCombined+", "),n[T].notesCombined=n[T].notesCombined+R)}let re=[];for(var P in n){console.log(P,n[P].minutesTotal,n[P].notesCombined);let y=_;console.log("current",_.getTime(),_.getHours(),_.getMinutes()),console.log("add",n[P].minutesTotal*6e4),_=new Date(_.getTime()+n[P].minutesTotal*6e4),M.update(A=>A+n[P].minutesTotal),re.push({timeFrom:Nt(y)+":"+It(y),timeUntil:Nt(_)+":"+It(_),project:P,notesCombined:n[P].notesCombined,totalMinutes:n[P].minutesTotal})}g.update(y=>re)});function z(){v=this.value,N.set(v)}return[E,v,I,L,W,N,g,M,z]}class xt extends $t{constructor(a){super();jt(this,a,Yt,Ut,Wt,{parseResultHTML:0})}get parseResultHTML(){return this.$$.ctx[0]}}export{xt as default};
